@using vyigity.Blog.Code;
@using vyigity.Blog.Models;

@{
    BlogAuthentication aut = new BlogAuthentication();
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Veli Yigit YOLCU</title>

    @Scripts.Render("~/bundles/jquery")

    @Scripts.Render("~/bundles/jqueryval")

    @Scripts.Render("~/bundles/bootstrap")

    @RenderSection("scripts", required: false)


    @Styles.Render("~/Content/css")
    @*@Scripts.Render("~/bundles/modernizr")*@

    <link href="~/Content/blog-home.css" rel="stylesheet" />

    <script>

        function submitLogin() {

            $("#loginForm").submit();
        }

        function submitLogout() {

            $("#logoutForm").submit();
        }

        function search() {

            $("#searchForm").submit();

        }


    </script>

</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">Veli Yigit YOLCU</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="@Url.Action("Index","Home")">
                            Anasayfa
                            <span class="sr-only">(current)</span>
                        </a>
                    </li>

                    @*<li class="nav-item">
                        <a class="nav-link" href="#">İletişim</a>
                    </li>*@

                    @if (!aut.IsAuthenticated())
                    {

                        <li class="nav-item">
                            <a class="nav-link" href="#" data-toggle="modal" data-target="#loginModal">Giriş</a>
                        </li>

                    }
                    else
                    {

                        <li class="nav-item">
                            <a style="color:crimson" class="nav-link" href="@Url.Action("Index","Article")">Yazı Yaz</a>
                        </li>

                        <li class="nav-item">
                            <a style="color:crimson" class="nav-link" href="@Url.Action("ManageArticle","Article")">Yazıları Yönet</a>
                        </li>

                        <li class="nav-item">
                            <a style="color:crimson" class="nav-link" href="@Url.Action("Index","Comment")">Yorumlar</a>
                        </li>

                        <li class="nav-item">
                            <a style="color:crimson" class="nav-link" href="@Url.Action("Index","Category")">Etiketler</a>
                        </li>

                        <li class="nav-item">
                            <a style="color:crimson" class="nav-link" href="#" onclick="submitLogout()">Çıkış</a>
                        </li>

                    }
                </ul>
            </div>
        </div>
    </nav>

    @*<div class="container body-content">

            <hr />
            <footer>
                <p>&copy; @DateTime.Now.Year - My ASP.NET Application</p>
            </footer>
        </div>*@

    <!-- Page Content -->



    <div class="container">
        <div class="row">
            <!-- Blog Entries Column -->
            <div class="col-md-8">
                <h1 class="my-4">
                    Veli Yigit YOLCU
                    <small>Senior Software Engineer</small>
                </h1>
                <!-- Blog Post -->

                @RenderBody()

                <!-- Pagination -->
                @*<ul class="pagination justify-content-center mb-4">
                    <li class="page-item">
                        <a class="page-link" href="#">&larr; Geri</a>
                    </li>
                    <li class="page-item disabled">
                        <a class="page-link" href="#">İleri &rarr;</a>
                    </li>
                </ul>*@
            </div>
            <!-- Sidebar Widgets Column -->
            <div class="col-md-4">
                <!-- Search Widget -->
                <div class="card my-4">
                    <h5 class="card-header">Arama</h5>
                    <div class="card-body">
                        <div class="input-group">

                            <form id="searchForm" action="~/Home/Search" method="post">
                                <input id="searchText" name="searchText" type="text" class="form-control" placeholder="Aranacak içerik giriniz...">
                            </form>
                            <span class="input-group-btn">
                                <button class="btn btn-secondary" onclick="search()" type="button">ARA</button>
                            </span>
                        </div>
                    </div>
                </div>
                <!-- Categories Widget -->
                <div class="card my-4">
                    <h5 class="card-header">Etiketler</h5>
                    @{
                        var categories = ViewData["Category"] as List<Category>;
                        int part1 = categories.Count / 2;
                    }
                    <div class="card-body">
                        <div class="row">
                            <div class="col-lg-6">
                                <ul class="list-unstyled mb-0">
                                    @for (int i = 0; i < part1; i++)
                                    {
                                        <li>
                                            <a href="@Url.Action("Category","Home",new { id= categories[i].ID })">@(categories[i].LABEL_TEXT + " (" + categories[i].ARTICLE_COUNT + ")")</a>
                                        </li>
                                    }
                                </ul>
                            </div>
                            <div class="col-lg-6">
                                <ul class="list-unstyled mb-0">
                                    @for (int i = part1; i < categories.Count; i++)
                                    {
                                        <li>
                                            <a href="@Url.Action("Category","Home",new { id= categories[i].ID })">@(categories[i].LABEL_TEXT + " (" + categories[i].ARTICLE_COUNT + ")")</a>
                                        </li>
                                    }
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Side Widget -->
                @*<div class="card my-4">
                        <h5 class="card-header">Side Widget</h5>
                        <div class="card-body">
                            You can put anything you want inside of these side widgets. They are easy to use, and feature the new Bootstrap 4 card containers!
                        </div>
                    </div>*@
            </div>
        </div>
        <!-- /.row -->
    </div>

    <!-- Login Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Kullanıcı Girişi</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="loginForm" action="~/Home/Login" method="post">
                        <div class="form-group">
                            <label for="UserName" class="col-form-label">Kullanıcı Adı:</label>
                            <input type="text" class="form-control" id="UserName" name="UserName">
                        </div>
                        <div class="form-group">
                            <label for="Password" class="col-form-label">Şifre:</label>
                            <input type="password" class="form-control" id="Password" name="Password">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">KAPAT</button>
                    <button type="button" class="btn btn-primary" onclick="submitLogin()">GİRİŞ</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Comment Modal -->
    @*<div class="modal fade" id="commentModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Yorum Girişi</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="commentForm" action="~/Home/Login" method="post">
                        <div class="form-group">
                            <label for="CommentUserName" class="col-form-label">Kullanıcı Adı:</label>
                            <input type="text" class="form-control" id="CommentUserName" name="CommentUserName">
                        </div>
                        <div class="form-group">
                            <label for="Password" class="col-form-label">Yorum:</label>
                            <textarea class="form-control" id="UserComment" name="UserComment"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">KAPAT</button>
                    <button type="button" class="btn btn-primary" onclick="submitLogin()">GİRİŞ</button>
                </div>
            </div>
        </div>
    </div>*@

    <form id="logoutForm" action="~/Home/Logout"></form>


    



</body>
</html>
